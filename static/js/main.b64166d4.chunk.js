(this.webpackJsonppecker=this.webpackJsonppecker||[]).push([[0],{52:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(39),r=c.n(s),i=c(7),o=c.n(i),l=c(13),j=c(5),u=c(24);c(46),c(72),c(71);u.a.initializeApp({apiKey:"AIzaSyBM0UEJkH9cT2XTaIyazlsm90a9_iOsyE8",authDomain:"pecker-8b0ae.firebaseapp.com",projectId:"pecker-8b0ae",storageBucket:"pecker-8b0ae.appspot.com",messagingSenderId:"350251717169",appId:"1:350251717169:web:1cf810a9cf1448679a3b10",measurementId:"G-HMNDXD3KF3"});var d=u.a,b=u.a.auth(),m=u.a.firestore(),O=(u.a.storage(),c(22)),h=c(9),x=c(8),f=c(26),p=(c(52),c(1)),v=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(j.a)(s,2),i=r[0],u=r[1],d=Object(n.useState)(!0),m=Object(j.a)(d,2),O=m[0],h=m[1],x=Object(n.useState)(""),f=Object(j.a)(x,2),v=f[0],N=f[1],g=function(e){var t=e.target,c=t.name,n=t.value;"email"===c?a(n):"password"===c&&u(n)},y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!O){e.next=8;break}return e.next=5,b.createUserWithEmailAndPassword(c,i);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,b.signInWithEmailAndPassword(c,i);case 10:n=e.sent;case 11:console.log(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),N(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{className:"auth-form-container",onSubmit:y,children:[Object(p.jsx)("input",{className:"auth-input",name:"email",type:"text",placeholder:"Email",required:!0,value:c,onChange:g}),Object(p.jsx)("input",{className:"auth-input",name:"password",type:"password",placeholder:"Password",required:!0,value:i,onChange:g}),Object(p.jsx)("input",{className:"auth-input-btn",type:"submit",value:O?"Create Account":"Sign In",required:!0}),v&&Object(p.jsx)("span",{className:"authError",children:v})]}),Object(p.jsx)("span",{className:"auth-toggle-btn",onClick:function(){return h((function(e){return!e}))},children:O?"Sign In":"Create Account"})]})},N=(c(54),function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(c=t.target.name)?n=new d.auth.GoogleAuthProvider:"github"===c&&(n=new d.auth.GithubAuthProvider),e.next=4,b.signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"authContainer",children:[Object(p.jsx)(v,{}),Object(p.jsxs)("div",{className:"authBtns",children:[Object(p.jsxs)("button",{className:"authBtn",onClick:e,name:"google",children:["Continue with ",Object(p.jsx)("span",{className:"google-blue",children:"G"}),Object(p.jsx)("span",{className:"google-red",children:"o"}),Object(p.jsx)("span",{className:"google-yellow",children:"o"}),Object(p.jsx)("span",{className:"google-blue",children:"g"}),Object(p.jsx)("span",{className:"google-green",children:"l"}),Object(p.jsx)("span",{className:"google-red",children:"e "}),Object(p.jsx)(x.a,{icon:f.b})]}),Object(p.jsxs)("button",{className:"authBtn",onClick:e,name:"github",children:["Continue with Github ",Object(p.jsx)(x.a,{icon:f.a})]})]})]})}),g=c(23),y=c(11),S=(c(55),function(e){e.refreshUser;var t=e.userObj,c=Object(h.g)();return Object(p.jsxs)("div",{className:"profile-container",children:[Object(p.jsxs)("div",{className:"greeting",children:["\uc548\ub155\ud558\uc138\uc694 ",t.displayName,"\ub2d8"]}),Object(p.jsxs)("div",{className:"btns-container",children:[Object(p.jsx)("div",{children:Object(p.jsx)(O.b,{to:"/my-page",children:Object(p.jsxs)("button",{className:"profile-edit-btn",children:[Object(p.jsx)(x.a,{icon:y.m}),"\xa0 \ub9c8\uc774\ud398\uc774\uc9c0"]})})}),Object(p.jsx)("div",{children:Object(p.jsxs)("button",{className:"logout-btn",onClick:function(){window.confirm("\ub85c\uadf8\uc544\uc6c3\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(b.signOut(),c.push("/"))},children:[Object(p.jsx)(x.a,{icon:y.h}),"\xa0 \ub85c\uadf8\uc544\uc6c3"]})})]})]})}),w=c(30),k=c(73),C=(c(58),function(e){var t=e.userObj,c=e.todoObj,a=Object(n.useState)(!1),s=Object(j.a)(a,2),r=s[0],i=s[1],u=Object(n.useState)(c.work),d=Object(j.a)(u,2),b=d[0],O=d[1],h=Object(n.useState)(c.subject),f=Object(j.a)(h,2),v=f[0],N=f[1],g=Object(n.useState)(c.format),S=Object(j.a)(g,2),w=S[0],k=S[1],C=Object(n.useState)(c.duedate),T=Object(j.a)(C,2),I=T[0],E=T[1],D=Object(n.useState)("00:00:00"),F=Object(j.a)(D,2),A=F[0],U=F[1];Object(n.useEffect)((function(){var e=function(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),c=String(Math.floor((e-3600*t)/60)).padStart(2,"0");return t+":"+c+":"+String(e-3600*t-60*c).padStart(2,"0")}(c.studyTime);U(e)}),[c.studyTime]);var M=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=4;break}return e.next=4,m.doc("".concat(t.uid,"/").concat(c.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){return i((function(e){return!e}))},L=function(e){var t=e.target,c=t.name,n=t.value;"work"===c?O(n):"subject"===c?N(n):"format"===c?k(n):"date"===c&&E(n)},P=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m.doc("".concat(t.uid,"/").concat(c.id)).update({work:b,subject:v,format:w,duedate:I});case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.work,!window.confirm("".concat(n," \uc77c\uc744 \uc644\ub8cc\ud558\uc168\uc2b5\ub2c8\uae4c?"))){e.next=10;break}return a=function(){var e=new Date;return("0"+(1+e.getMonth())).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}(),s={work:c.work,subject:c.subject,format:c.format,creatorId:t.uid,studyTime:c.studyTime,submitAt:a},e.next=8,m.collection("completed/sortByUser/".concat(t.uid)).add(s);case 8:return e.next=10,m.doc("".concat(t.uid,"/").concat(c.id)).delete();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:r?Object(p.jsxs)("tr",{className:"todolist-row",children:[Object(p.jsx)("td",{className:"todo-edit-task-box",children:Object(p.jsx)("input",{className:"todo-edit-task",name:"work",value:b,type:"text",placeholder:c.work,onChange:L,required:!0})}),Object(p.jsx)("td",{className:"todo-edit-category-box",children:Object(p.jsx)("input",{className:"todo-edit-category",name:"subject",value:v,type:"text",placeholder:c.subject,onChange:L,required:!0})}),Object(p.jsx)("td",{className:"todo-edit-format-box",children:Object(p.jsx)("input",{className:"todo-edit-format",name:"format",value:w,type:"text",placeholder:c.format,onChange:L,required:!0})}),Object(p.jsx)("td",{className:"todo-edit-due-box",children:Object(p.jsx)("input",{className:"todo-edit-due",name:"date",value:I,type:"date",onChange:L,required:!0})}),Object(p.jsx)("td",{className:"todo-table-study-column",children:A}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"todolist-btn edit-btn",onClick:P,children:Object(p.jsx)(x.a,{icon:y.b,size:"lg"})})}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"todolist-btn cancel-btn",onClick:B,children:Object(p.jsx)(x.a,{icon:y.a,size:"lg"})})})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tr",{className:"todolist-row",children:[Object(p.jsx)("td",{className:"todo-table-task-column",children:c.work}),Object(p.jsx)("td",{className:"todo-table-category-column",children:c.subject}),Object(p.jsx)("td",{className:"todo-table-format-column",children:c.format}),Object(p.jsx)("td",{className:"todo-table-due-column",children:function(e){var t=e.split("-");return[t[1],t[2]].join("-")}(c.duedate)}),Object(p.jsx)("td",{className:"todo-table-study-column",children:A}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"todolist-btn cancel-btn",onClick:M,children:Object(p.jsx)(x.a,{icon:y.j,size:"lg"})})}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"todolist-btn edit-btn",onClick:B,children:Object(p.jsx)(x.a,{icon:y.d,size:"lg"})})}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"todolist-btn edit-btn",onClick:z,children:Object(p.jsx)(x.a,{icon:y.c,size:"lg"})})})]})})})}),T=(c(59),function(e){var t=e.todoLists,c=e.userObj,a=Object(n.useState)(""),s=Object(j.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),u=l[0],d=l[1];Object(n.useEffect)((function(){if(""!==r){var e=t.filter((function(e){return e.subject===r}));e.sort((function(e,t){return new Date(e.duedate).getTime()>new Date(t.duedate).getTime()?1:-1})),d(e)}else m.collection("".concat(c.uid)).orderBy("duedate","asc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));d(t)}))}),[r,t]);var b=[],O=[],h=function(e){var t=e.target.innerText;i(t)};t.map((function(e){b.push(e.subject)})),Object(w.a)(new Set(b)).map((function(e){var t={id:Object(k.a)(),subject:e};O.push(t)}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"todo-title",children:"Todo List"}),Object(p.jsxs)("div",{className:"todo-filter-div",children:[Object(p.jsx)("button",{className:"todo-filter-btn",onClick:function(e){i("")},children:"\uc804\uccb4"}),O.map((function(e){return Object(p.jsx)("button",{className:"todo-filter-btn",onClick:h,children:e.subject},e.id)}))]}),Object(p.jsx)("div",{className:"todolists-table-container",children:Object(p.jsxs)("table",{className:"todolist-table",children:[Object(p.jsx)("thead",{className:"todolist-thead",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"todolist-task-column",children:"\ud560 \uc77c"}),Object(p.jsx)("th",{className:"todolist-category-column",children:"\uce74\ud14c\uace0\ub9ac"}),Object(p.jsx)("th",{className:"todolist-format-column",children:"\ud615\uc2dd"}),Object(p.jsx)("th",{className:"todolist-due-column",children:"\ub9c8\uac10\uc77c"}),Object(p.jsx)("th",{className:"todolist-studytime-column",children:"\uc18c\uc694 \uc2dc\uac04"}),Object(p.jsx)("th",{colSpan:"3",className:"todolist-button-column",children:"Buttons"})]})}),Object(p.jsx)("tbody",{children:u.map((function(e){return Object(p.jsx)(C,{userObj:c,todoObj:e},e.id)}))})]})})]})})}),I=c(29),E=(c(60),function(e){var t=e.userObj,c=Object(n.useState)(""),a=Object(j.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(""),u=Object(j.a)(i,2),d=u[0],b=u[1],O=Object(n.useState)(""),h=Object(j.a)(O,2),f=h[0],v=h[1],N=Object(n.useState)(""),g=Object(j.a)(N,2),y=g[0],S=g[1],w=function(e){var t=e.target,c=t.name,n=t.value;"work"===c?r(n):"subject"===c?b(n):"format"===c?v(n):"date"===c&&S(n)},k=function(){var e=Object(l.a)(o.a.mark((function e(c){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n={work:s,subject:d,format:f,duedate:y,createdAt:Date.now(),creatorId:t.uid,studyTime:0},e.next=4,m.collection("".concat(t.uid)).add(n);case 4:r(""),b(""),v("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{className:"todo-form-container",onSubmit:k,children:[Object(p.jsx)("table",{className:"todo-assign-table",children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"todo-assign-row",children:[Object(p.jsx)("td",{className:"todo-assign-column",children:"Task"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"todo-assign-input",name:"work",value:s,type:"text",placeholder:"Task",onChange:w,required:!0})})]}),Object(p.jsxs)("tr",{className:"todo-assign-row",children:[Object(p.jsx)("td",{className:"todo-assign-column",children:"Category"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"todo-assign-input",name:"subject",value:d,type:"text",placeholder:"Category",onChange:w,required:!0})})]}),Object(p.jsxs)("tr",{className:"todo-assign-row",children:[Object(p.jsx)("td",{className:"todo-assign-column",children:"Format"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"todo-assign-input",name:"format",value:f,type:"text",placeholder:"Format",onChange:w,required:!0})})]}),Object(p.jsxs)("tr",{className:"todo-assign-row",children:[Object(p.jsx)("td",{className:"todo-assign-column",children:"DueDate"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{className:"todo-assign-input",name:"date",type:"date",onChange:w,required:!0})})]})]})}),Object(p.jsxs)("button",{className:"todo-assign-submit-btn",onSubmit:k,children:[Object(p.jsx)(x.a,{icon:I.b})," \ucd94\uac00\ud558\uae30"]})]})}),D=(c(61),function(e){var t=e.userObj,c=e.todoLists,a=Object(n.useState)("00:00:00"),s=Object(j.a)(a,2),r=s[0],i=s[1],u=Object(n.useState)(!1),d=Object(j.a)(u,2),b=d[0],O=d[1],h=Object(n.useState)(0),f=Object(j.a)(h,2),v=f[0],N=f[1],g=Object(n.useState)(0),S=Object(j.a)(g,2),w=S[0],k=S[1],C=Object(n.useState)(""),T=Object(j.a)(C,2),I=T[0],E=T[1];function D(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),c=String(Math.floor((e-3600*t)/60)).padStart(2,"0");return t+":"+c+":"+String(e-3600*t-60*c).padStart(2,"0")}function F(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}Object(n.useEffect)((function(){var e;if(b)if(0===v){var t=Date.now();k(t),e=setInterval((function(){var e=Date.now(),c=Math.floor((e-t)/1e3);i(D(c))}),1e3)}else{var c=w-v+Date.now();k(c),e=setInterval((function(){var e=Date.now(),t=Math.floor((e-c)/1e3);i(D(t))}),1e3)}else clearInterval(e);return function(){return clearInterval(e)}}),[b]);var A=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s,l,j,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=c.filter((function(e){return e.createdAt===parseInt(I)})),s=window.confirm("\ud574\ub2f9 \uc791\uc5c5\uc5d0 \uc2dc\uac04\uc744 \ucd94\uac00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),1!==a.length||!s){e.next=16;break}return e.next=6,m.doc("".concat(t.uid,"/").concat(a[0].id)).get();case 6:return l=e.sent,j=l.data().studyTime,u=F(r),d=j+u,e.next=12,m.doc("".concat(t.uid,"/").concat(a[0].id)).update({studyTime:d});case 12:i("00:00:00"),N(0),e.next=17;break;case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.value,e.next=3,E(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"timer-title",children:[Object(p.jsx)(x.a,{icon:y.l}),"\xa0\xa0Study Timer"]}),Object(p.jsx)("div",{className:"display-time",children:r}),Object(p.jsxs)("div",{className:"timer-btns",children:[!b&&Object(p.jsx)("button",{className:"timer-btn left-btn",onClick:function(){O(!0)},children:Object(p.jsx)(x.a,{icon:y.g,size:"2x"})}),b&&Object(p.jsx)("button",{className:"timer-btn left-btn",onClick:function(){var e=Date.now();N(e),O(!1)},children:Object(p.jsx)(x.a,{icon:y.f,size:"2x"})}),Object(p.jsx)("button",{className:"timer-btn right-btn",onClick:function(){O(!1),i("00:00:00"),N(0)},children:Object(p.jsx)(x.a,{icon:y.i,size:"2x"})})]}),b?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)("div",{className:"add-timer-container",children:Object(p.jsxs)("form",{onSubmit:A,children:[Object(p.jsxs)("select",{className:"timer-select-todolists",onChange:U,name:"studyTime",children:[Object(p.jsx)("option",{value:"",children:"--Please choose a task--"}),c.map((function(e){return Object(p.jsx)("option",{value:e.createdAt,children:e.work},e.id)}))]}),Object(p.jsx)("button",{className:"timer-select-btn",onSubmit:A,children:"\uc2dc\uac04 \ucd94\uac00"})]})})]})})}),F=(c(62),c(63),function(e){var t=e.notice,c=t.notice,n=t.url;return Object(p.jsxs)("div",{className:"notice-container",children:[Object(p.jsxs)("a",{className:"notice-sentence",href:n,children:[Object(p.jsx)(x.a,{icon:I.a}),"\xa0 ",c," "]}),Object(p.jsxs)("a",{className:"own-youtube",href:"https://www.youtube.com/channel/UCZf62-sE0Xnm_nXefPAJ6YQ",children:[Object(p.jsx)(x.a,{icon:f.c}),"\xa0\ud504\ub85c\uc81d\ud2b8 \uac1c\ubc1c\uae30\ub85d"]})]})}),A=function(e){var t=e.notice,c=e.userObj,a=e.refreshUser,s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){m.collection("".concat(c.uid)).orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));o(t)}))}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"home-container",children:[Object(p.jsxs)("div",{className:"first-inner-container",children:[Object(p.jsxs)("div",{className:"first-box-container box-container",children:[Object(p.jsx)(S,{className:"home-profile",userObj:c,refreshUser:a}),Object(p.jsx)(E,{className:"home-todo-assign",userObj:c})]}),Object(p.jsx)("div",{className:"second-box-container box-container",children:Object(p.jsx)(D,{userObj:c,todoLists:i})})]}),Object(p.jsxs)("div",{className:"second-inner-container",children:[Object(p.jsx)("div",{className:"third-box-container box-container",children:Object(p.jsx)(T,{userObj:c,todoLists:i})}),Object(p.jsx)("div",{className:"fourth-box-container box-container",children:Object(p.jsx)(F,{notice:t})})]})]})})},U=(c(64),function(e){var t=e.refreshUser,c=e.userObj,a=Object(n.useState)(!1),s=Object(j.a)(a,2),r=s[0],i=s[1],u=(Object(h.g)(),Object(n.useState)(c.displayName)),d=Object(j.a)(u,2),b=d[0],m=d[1],f=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.displayName===b){e.next=5;break}return e.next=4,c.updateProfile({displayName:b});case 4:t();case 5:i(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"profile-container",children:[Object(p.jsxs)("div",{className:"greeting",children:["\uc548\ub155\ud558\uc138\uc694 ",c.displayName,"\ub2d8"]}),Object(p.jsx)("div",{className:"edit-profile",children:r?Object(p.jsxs)("form",{onSubmit:f,children:[Object(p.jsx)("input",{className:"edit-finish-btn",onChange:function(e){var t=e.target.value;m(t)},type:"text",autoFocus:!0,placeholder:"New Name",value:b}),Object(p.jsx)("input",{className:"edit-finish-btn",type:"submit",value:"\uc774\ub984 \ubcc0\uacbd\ud558\uae30"})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("button",{className:"profile-edit-btn",onClick:function(){return i(!0)},children:[Object(p.jsx)(x.a,{icon:y.m}),"\xa0 \uc774\ub984 \uc218\uc815"]})})}),Object(p.jsx)("div",{className:"logout-container",children:Object(p.jsx)(O.b,{to:"/",children:Object(p.jsxs)("button",{className:"logout-btn",children:[Object(p.jsx)(x.a,{icon:y.k}),"\xa0 \ub3cc\uc544\uac00\uae30"]})})})]})}),M=(c(65),function(e){e.userObj;var t=e.todoObj,c=Object(n.useState)("00:00:00"),a=Object(j.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var e=function(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),c=String(Math.floor((e-3600*t)/60)).padStart(2,"0");return t+":"+c+":"+String(e-3600*t-60*c).padStart(2,"0")}(t.studyTime);r(e)}),[t.studyTime]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tr",{className:"history-row",children:[Object(p.jsx)("td",{className:"history-table-task-column",children:t.work}),Object(p.jsx)("td",{className:"history-table-subject-column",children:t.subject}),Object(p.jsx)("td",{className:"history-table-format-column",children:t.format}),Object(p.jsx)("td",{className:"history-table-sumbitAt-column",children:t.submitAt}),Object(p.jsx)("td",{className:"history-table-studyTime-column",children:s})]})})}),B=(c(66),function(e){var t=e.todoLists,c=e.userObj,a=Object(n.useState)(""),s=Object(j.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(t),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(0),O=Object(j.a)(b,2),h=O[0],f=O[1];Object(n.useEffect)((function(){var e=0;if(""!==r){var c=t.filter((function(e){return e.subject===r}));c.forEach((function(t){var c=e+t.studyTime;e=c})),f(e),d(c)}else t.forEach((function(t){var c=e+t.studyTime;e=c})),f(e),d(t)}),[r,t]);var v=[],N=[],g=function(e){var t=e.target.innerText;i(t)};t.map((function(e){v.push(e.subject)})),Object(w.a)(new Set(v)).map((function(e){var t={id:Object(k.a)(),subject:e};N.push(t)}));var S=function(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),c=String(Math.floor((e-3600*t)/60)).padStart(2,"0");return t+":"+c+":"+String(e-3600*t-60*c).padStart(2,"0")}(h);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"todo-title",children:"History"}),Object(p.jsxs)("div",{className:"todo-filter-div",children:[Object(p.jsx)("button",{className:"todo-filter-btn",onClick:function(e){i("")},children:"\uc804\uccb4"}),N.map((function(e){return Object(p.jsx)("button",{className:"todo-filter-btn",onClick:g,children:e.subject},e.id)}))]}),Object(p.jsxs)("div",{className:"history-description",children:[Object(p.jsxs)("h1",{children:["\ud574\ub2f9 \uce74\ud14c\uace0\ub9ac \ub204\uc801 \uc18c\uc694 \uc2dc\uac04 : ",S]}),Object(p.jsxs)("button",{className:"reset-btn",onClick:function(){window.confirm("\ud788\uc2a4\ud1a0\ub9ac\ub97c \uc804\ubd80 \ub9ac\uc14b\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&m.collection("completed").doc("sortByUser").collection("".concat(c.uid)).get().then((function(e){e.docs.forEach((function(e){e.ref.delete()}))}))},children:[Object(p.jsx)(x.a,{icon:y.e})," Reset ALL"]})]}),Object(p.jsx)("div",{className:"history-table-container",children:Object(p.jsxs)("table",{className:"history-table",children:[Object(p.jsx)("thead",{className:"history-thead fixedHeader",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"history-task-column",children:"\uc644\ub8cc\ud55c \uc77c"}),Object(p.jsx)("th",{className:"history-category-column",children:"\uce74\ud14c\uace0\ub9ac"}),Object(p.jsx)("th",{className:"history-format-column",children:"\ud615\uc2dd"}),Object(p.jsx)("th",{className:"history-due-column",children:"\uc644\ub8cc\uc77c"}),Object(p.jsx)("th",{className:"history-studytime-column",children:"\uc18c\uc694 \uc2dc\uac04"})]})}),Object(p.jsx)("tbody",{children:u.map((function(e){return Object(p.jsx)(M,{userObj:c,todoObj:e},e.id)}))})]})})]})})}),L=(c(67),function(e){var t=e.todoLists,c=[],n=0;function a(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),c=String(Math.floor((e-3600*t)/60)).padStart(2,"0");return t+":"+c+":"+String(e-3600*t-60*c).padStart(2,"0")}var s=t.reduce((function(e,t){var c=t.subject;return c in e?e[c]+=t.studyTime:e[c]=t.studyTime,e}),{});t.forEach((function(e){var t=n+e.studyTime;n=t})),Object.keys(s).sort((function(e,t){return s[e]>s[t]?-1:1})).slice(0,3).forEach((function(e){var t=a(s[e]),r={id:Object(k.a)(),subject:e,studyTime:t,rT:100*(s[e]/n).toFixed(2)};c.push(r)}));var r=a(n);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"analysis-total-title",children:[Object(p.jsx)("h1",{className:"anlysis-title-h1",children:"\ucd1d \ub204\uc801 \uc18c\uc694\uc2dc\uac04"}),Object(p.jsx)("h1",{className:"analysis-total-time",children:r})]}),Object(p.jsxs)("div",{className:"analysis-top3-container",children:[Object(p.jsx)("h1",{className:"analysis-top3-title",children:"Top 3 \uce74\ud14c\uace0\ub9ac"}),Object(p.jsxs)("table",{className:"analysis-top3-table-container",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"analysis-thead",children:[Object(p.jsx)("th",{className:"analysis-subject-column",children:"\uce74\ud14c\uace0\ub9ac"}),Object(p.jsx)("th",{className:"anlaysis-studyTime-column",children:"\ub204\uc801 \uc18c\uc694\uc2dc\uac04"})]})}),Object(p.jsx)("tbody",{children:c.map((function(e){return Object(p.jsxs)("tr",{className:"analysis-top3-element",children:[Object(p.jsx)("td",{children:e.subject}),Object(p.jsxs)("td",{children:[e.studyTime," (",e.rT,"%)"]})]})}))})]})]})]})}),P=function(e){var t=e.notice,c=e.userObj,a=e.refreshUser,s=Object(n.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){m.collection("completed").doc("sortByUser").collection("".concat(c.uid)).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));o(t)}))}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"home-container",children:[Object(p.jsxs)("div",{className:"first-inner-container",children:[Object(p.jsxs)("div",{className:"first-box-container box-container",children:[Object(p.jsx)(U,{className:"home-profile",userObj:c,refreshUser:a}),Object(p.jsx)(E,{className:"home-todo-assign",userObj:c})]}),Object(p.jsx)("div",{className:"second-box-container box-container",children:Object(p.jsx)(L,{todoLists:i})})]}),Object(p.jsxs)("div",{className:"second-inner-container",children:[Object(p.jsx)("div",{className:"third-box-container box-container",children:Object(p.jsx)(B,{userObj:c,todoLists:i})}),Object(p.jsx)("div",{className:"fourth-box-container box-container",children:Object(p.jsx)(F,{notice:t})})]})]})})},z=function(e){var t=e.notice,c=e.refreshUser,n=e.isLoggedIn,a=e.userObj;return Object(p.jsx)(O.a,{children:Object(p.jsx)(h.d,{children:n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h.b,{exact:!0,path:"/",children:Object(p.jsx)(A,{notice:t,userObj:a,refreshUser:c})}),Object(p.jsx)(h.b,{path:"/my-page",children:Object(p.jsx)(P,{notice:t,userObj:a,refreshUser:c})}),Object(p.jsx)(h.a,{from:"*",to:"/"})]}):Object(p.jsx)(h.b,{exact:!0,path:"/",children:Object(p.jsx)(N,{})})})})};c(68);var q=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(j.a)(s,2),i=r[0],u=r[1],d=Object(n.useState)(null),O=Object(j.a)(d,2),h=O[0],x=O[1],f=Object(n.useState)(null),v=Object(j.a)(f,2),N=v[0],g=v[1],y=Object(n.useState)(!1),S=Object(j.a)(y,2),w=S[0],k=S[1],C=Object(n.useState)(null),T=Object(j.a)(C,2),I=T[0],E=T[1];Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){e?(D(e.uid),F(),E({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}),g({studymode:i,timermode:h})):E(null),k(!0)}))}),[i,h]);var D=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,m.collection("usermode").get();case 3:if((n=e.sent).docs.map((function(e){return c.push(e.id)})),-1!==c.indexOf(t)){e.next=11;break}return e.next=9,m.collection("usermode").doc("".concat(t)).set({uid:t,studymode:!0,timermode:!1});case 9:e.next=12;break;case 11:n.docs.map((function(e){e.data().uid===t&&(u(e.data().studymode),x(e.data().timermode))}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.doc("notice/RhvYJs0ZJ0XhjrsolJRe").get();case 2:t=e.sent,a(t.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"initial-component",children:w?Object(p.jsx)(z,{notice:c,modeObj:N,refreshUser:function(){var e=b.currentUser;D(e.uid),E({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}),g({studymode:i,timermode:h})},isLoggedIn:Boolean(I),userObj:I}):"Initalizing..."})})};c(69);r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.b64166d4.chunk.js.map